<p-dataTable [rowHover]="true" [value]="_data" [lazy]="true" [rows]="page.size" [paginator]="true" [responsive]="true" [loading]="loadingIndicator"
  class="contact-grid" loadingIcon="fa-spinner" #dt [totalRecords]="page.totalElements" (onLazyLoad)="setPage($event)" (onPage)="paginate($event)">
  <p-column field="No" [sortable]="true" header="No.">
  </p-column>
  <p-column *ngIf="cType === 'NewlyAdded' || cType === 'Other' " field="ContactType" [filter]="cType !== 'NewlyAdded'" [sortable]="true"
    header="Contact Type">
  </p-column>
  <p-column field="Title" [filter]="cType !== 'NewlyAdded'" [sortable]="true" header="Name">
    <ng-template let-col let-data="rowData" pTemplate="body">
      <a class="pointer-cursor" [routerLink]="['../../contact/view/', data.Id]">{{data['Title'] }} {{data['FirstName']}} {{data['LastName']}}</a>
    </ng-template>
  </p-column>
  <p-column field="Designation" [filter]="cType !== 'NewlyAdded'" [sortable]="true" header="Designation"></p-column>
  <p-column header="Important Contact">
    <ng-template let-row="rowData" pTemplate="body">
      <i class="big-icon important-icon fa {{ row.IsImportant ? 'fa-star' : 'fa-star-o' }}" (click)="toggleImportant(row)" aria-hidden="true"></i>
    </ng-template>
  </p-column>
  <p-column header="Total Cases">
    <ng-template let-row="rowData" pTemplate="body">
      <a [routerLink]="['../../case/contact/', row.Id]" *ngIf="row.TotalCases">
        {{row.TotalCases || '0'}}
      </a>
      <a *ngIf="!row.TotalCases">
        {{row.TotalCases || '0'}}
      </a>
    </ng-template>
  </p-column>

  <p-column header="Contact Type">
    <ng-template let-row="rowData" pTemplate="body">
      <button [routerLink]="['../../contact/view/', row.Id]" title="View" class="btn-white btn btn-xs">
        <i class="fa fa-eye" aria-hidden="true"></i>
      </button>
      <button [routerLink]="['../../contact/', row.Id]" title="edit" class="btn-white btn btn-xs">
        <i class="fa fa-edit"></i>
      </button>
      <button (click)="deleteClick(row.Id, dt)" title="delete" class="btn-white btn btn-xs">
        <i class="fa fa-trash"></i>
      </button>
    </ng-template>
  </p-column>
</p-dataTable>
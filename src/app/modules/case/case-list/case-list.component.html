<div class=panel>
  <div class="panel-heading border case-panel-header">

    <div>
      <div class="case-header">
        <b>Cases</b>
        <button type="button" class="btn btn-create pull-right " kendoButton (click)="router.navigate(['/case/new'])">
          <i class="fa fa-plus" aria-hidden="true"></i> Create New</button>
        <!-- <form class="form-inline case-advance-search-form pull-right mr20" (ngSubmit)="searchForm.form.valid && advanceFilter()"
          #searchForm="ngForm">
          <div class="form-group">
            <input name="advanceSearch" class="form-control" placeholder="Advance Search" required id="advanceSearch" [(ngModel)]="advanceSearch"
            />
          </div>
          <button class="btn btn-primary" *ngIf="searchApplied" (click)="removeadvanceFilter()">
            <i class="fa fa-eraser mr5"></i>Clear</button>
          <button type="submit" class="btn btn-primary">
            <i class="fa fa-search mr5"></i>Search</button>
        </form> -->
      </div>
    </div>
  </div>
  <div class=panel-body>
    <div class="ui-widget-header form-group" style="padding:4px 10px;border-bottom: 0 none;margin-bottom:0">
      <!-- <i class="fa fa-search" style="margin:4px 4px 0 0"></i> -->
      <input #gb type="text" class="form-control global-search-input" pInputText size="50" placeholder="Advance Search">
    </div>
    <p-dataTable [value]="rows" [globalFilter]="gb" [lazy]="true" [rows]="pageSize" [paginator]="true" [responsive]="true" [loading]="loadingIndicator"
      loadingIcon="fa-spinner" #dt [totalRecords]="page.totalElements" (onLazyLoad)="setPage($event)" (onPage)="paginate($event)">
      <!-- [rowsPerPageOptions]="[5,10,20]" let user select page  -->
      <!-- <p-header>List of Cars</p-header> -->
      <p-column field="CaseNo" [filter]="true" [sortable]="true" header="Case No"></p-column>
      <p-column field="CaseType" [filter]="true" [sortable]="true" header="Case Type"></p-column>
      <p-column field="OpenDate" [sortable]="true" header="Start Date">
        <ng-template let-col let-data="rowData" pTemplate="body">
          <span>{{data[col.field] | date: 'dd/MM/yyyy'}}</span>
        </ng-template>
        <!-- <ng-template pTemplate="filter" let-col>
          <p-calendar showButtonBar="true" dateFormat="yy-mm-dd" (onSelect)="filterStartDate($event,dt,col)"></p-calendar>
        </ng-template> -->
      </p-column>
      <p-column field="EndDate" [sortable]="true" header="End Date">
        <ng-template let-col let-data="rowData" pTemplate="body">
          <span>{{data[col.field] | date: 'dd/MM/yyyy'}}</span>
        </ng-template>
      </p-column>
      <p-column field="RefferenceNumber" [sortable]="true" [filter]="true" header="Refference Number"></p-column>
      <p-column field="CaseStatus" [sortable]="true" [filter]="true" header="Case Status"></p-column>
      <p-column styleClass="col-button">
        <ng-template pTemplate="header">
          Actions
        </ng-template>
        <ng-template let-data="rowData" pTemplate="body">
          <div class="btn-group text-center">
            <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
              Action
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="javascript:void(0)" (click)="viewDetail(data.Id)">
                  View
                </a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="editClick(data.Id)">
                  Edit
                </a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="deleteClick(data.Id)">Delete</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="changeStatus(data)">Change Status</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="showCommunication(data.Id)">Communications</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowTimeTracker(data.Id)">Time Tracker</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowNotes(data.Id)">Notes</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowDocuments(data.Id)">Document</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowEvidence(data.Id)">Evidence</a>
              </li>
            </ul>
          </div>
        </ng-template>
      </p-column>
    </p-dataTable>

    <!-- <ngx-datatable class="material" [rows]="rows" #grid [externalPaging]="true" [count]="page.totalElements" [offset]="page.pageNumber"
      [limit]="page.size" (page)='setPage($event)' [externalSorting]="true" (sort)="onSort($event)" [headerHeight]="70" [footerHeight]="40"
      [loadingIndicator]="loadingIndicator" [rowHeight]="'auto'" [columnMode]="'force'">
      <ngx-datatable-column name="Case Number" sortable="true" prop="CaseNo">
        <ng-template let-column="column" let-sort="sortFn" height="40" ngx-datatable-header-template>
          <div class="custom-sort">
            <label class="case-no" (click)="sort()">Case Number</label>
            <br/>
            <input type='text' name="case-no" class="column-filter-input form-control" [(ngModel)]="filterModel[0].value" data-column-name="CaseNo"
              #CaseNo placeholder='Filter...' (keyup)="filterData($event)" />
          </div>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Case Type" data-custom="custom" class="custom-sort" sortable="true" prop="CaseType">
        <ng-template let-row="row" let-column="column" let-sort="sortFn" height="40" ngx-datatable-header-template>
          <div class="custom-sort">
            <label class="case-no" (click)="sort()">Case Type</label>
            <br/>
            <input type='text' name="CaseType" class="column-filter-input form-control" [(ngModel)]="filterModel[1].value" data-column-name="CaseType"
              #CaseNo placeholder='Filter...' (keyup)="filterData($event)" />
          </div>
        </ng-template>
        <ng-template let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Start Date" sortable="true" prop="OpenDate">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value | date: 'dd/MM/yyyy'}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="End Date" sortable="true" prop="EndDate">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value | date: 'dd/MM/yyyy'}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Refference Number" sortable="true" prop="RefferenceNumber">
        <ng-template let-column="column" let-sort="sortFn" height="40" ngx-datatable-header-template>
          <div class="custom-sort">
            <label class="RefferenceNumber" (click)="sort()">Refference Number</label>
            <br/>
            <input type='text' name="RefferenceNumber" class="column-filter-input form-control" [(ngModel)]="filterModel[2].value" data-column-name="RefferenceNumber"
              #CaseNo placeholder='Filter...' (keyup)="filterData($event)" />
          </div>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column name="Status" sortable="true" prop="CaseStatus">
        <ng-template let-column="column" let-sort="sortFn" height="40" ngx-datatable-header-template>
          <div class="custom-sort">
            <label class="Status" (click)="sort()">Status</label>
            <br/>
            <input type='text' name="CaseStatus" class="column-filter-input form-control" [(ngModel)]="filterModel[3].value" data-column-name="CaseStatus"
              #CaseNo placeholder='Filter...' (keyup)="filterData($event)" />
          </div>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column name="Actions" [sortable]="false" prop="Id">
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          <div class="btn-group">
            <a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#">
              Action
              <span class="caret"></span>
            </a>
            <ul class="dropdown-menu">
              <li>
                <a href="javascript:void(0)" (click)="editClick(value)">
                  Edit
                </a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="deleteClick(value)">Delete</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="changeStatus(row)">Change Status</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="showCommunication(row)">Communications</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowTimeTracker(row)">Time Tracker</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowNotes(row)">Notes</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowDocuments(row)">Document</a>
              </li>
              <li>
                <a href="javascript:void(0)" (click)="ShowEvidence(row)">Evidence</a>
              </li>
            </ul>
          </div>
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable> -->
  </div>
</div>